(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e){e.exports={title:"Person",type:"object",properties:{firstName:{type:"string"},lastName:{type:"string"},age:{description:"Age in years",type:"integer",minimum:0},shippingAddress:{type:"string"}},required:["firstName","lastName"]}},186:function(e){e.exports={title:"Order",type:"object",properties:{addressId:{type:"string",label:"Address Type",enum:["Home Address 1","Home Address 2","Workplace"]},street:{type:"string"},city:{type:"string"},zipCode:{type:"string"}}}},269:function(e){e.exports={type:"Group",label:"Person",elements:[{type:"HorizontalLayout",elements:[{type:"Control",scope:"#/properties/firstName"},{type:"Control",scope:"#/properties/lastName"}]},{type:"HorizontalLayout",elements:[{type:"Control",scope:"#/properties/age"},{type:"Control",scope:"#/properties/shippingAddress"}]}]}},472:function(e){e.exports={type:"Group",label:"Address",elements:[{type:"HorizontalLayout",elements:[{type:"Control",scope:"#/properties/addressId"},{type:"Control",scope:"#/properties/street"}]},{type:"HorizontalLayout",elements:[{type:"Control",scope:"#/properties/city"},{type:"Control",scope:"#/properties/zipCode"}]}]}},484:function(e,t,a){e.exports=a(999)},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},672:function(e,t){},680:function(e,t){},682:function(e,t){},999:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(23),i=a.n(r),l=a(45),o=a(46),c=a(49),d=a(47),u=a(48),p=a(1006),m=a(26),h=a(1007),b=a(1010),v=a(187),f=a(266),g=a.n(f),y=a(466),O=(a(490),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={hightlight:!1},a.fileInputRef=s.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(m.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(m.a)(a)),a.onDragOver=a.onDragOver.bind(Object(m.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(m.a)(a)),a.onDrop=a.onDrop.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({hightlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"Dropzone ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},s.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}),s.a.createElement("img",{alt:"upload",className:"Icon",src:"baseline-cloud_upload-24px.svg"}),s.a.createElement("span",null,"Upload Files"))}}]),t}(n.Component)),j=(a(491),a(492),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ProgressBar"},s.a.createElement("div",{className:"Progress",style:{width:this.props.progress+"%"}}))}}]),t}(n.Component)),E=a(1008),D=a(271),k=a(1005),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1},a.onFilesAdded=a.onFilesAdded.bind(Object(m.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(m.a)(a)),a.sendRequest=a.sendRequest.bind(Object(m.a)(a)),a.renderActions=a.renderActions.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onFilesAdded",value:function(e){this.setState(function(t){return{files:t.files.concat(e)}})}},{key:"uploadFiles",value:function(){var e=Object(y.a)(g.a.mark(function e(){var t,a=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({uploadProgress:{},uploading:!0}),t=[],this.state.files.forEach(function(e){t.push(a.sendRequest(e))}),e.prev=3,e.next=6,Promise.all(t);case 6:this.setState({successfullUploaded:!0,uploading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.setState({successfullUploaded:!0,uploading:!1});case 12:case"end":return e.stop()}},e,this,[[3,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e){var t=this;return new Promise(function(a,n){var s=new XMLHttpRequest;s.upload.addEventListener("progress",function(a){if(a.lengthComputable){var n=Object(v.a)({},t.state.uploadProgress);n[e.name]={state:"pending",percentage:a.loaded/a.total*100},t.setState({uploadProgress:n})}}),s.upload.addEventListener("load",function(n){var r=Object(v.a)({},t.state.uploadProgress);r[e.name]={state:"done",percentage:100},t.setState({uploadProgress:r}),a(s.response)}),s.upload.addEventListener("error",function(a){var r=Object(v.a)({},t.state.uploadProgress);r[e.name]={state:"error",percentage:0},t.setState({uploadProgress:r}),n(s.response)});var r=new FormData;r.append("file",e,e.name),s.open("POST","http://localhost:8000/upload"),s.send(r)})}},{key:"renderProgress",value:function(e){var t=this.state.uploadProgress[e.name];if(this.state.uploading||this.state.successfullUploaded)return s.a.createElement("div",{className:"ProgressWrapper"},s.a.createElement(j,{progress:t?t.percentage:0}),s.a.createElement("img",{className:"CheckIcon",alt:"done",src:"baseline-check_circle_outline-24px.svg",style:{opacity:t&&"done"===t.state?.5:0}}))}},{key:"renderActions",value:function(){var e=this;return this.state.successfullUploaded?s.a.createElement("button",{onClick:function(){return e.setState({files:[],successfullUploaded:!1})}},"Clear"):s.a.createElement("button",{disabled:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles},"Upload")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Upload"},s.a.createElement("span",{className:"Title"},"Upload Files"),s.a.createElement("div",{className:"Content"},s.a.createElement("div",null,s.a.createElement(O,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullUploaded})),s.a.createElement("div",{className:"Files"},this.state.files.map(function(t){return s.a.createElement("div",{key:t.name,className:"Row"},s.a.createElement(b.a,null,s.a.createElement(E.a,{columns:2,relaxed:"very"},s.a.createElement(E.a.Column,null,s.a.createElement(D.a,{horizontal:!0},"Filename:")," ",t.name),s.a.createElement(E.a.Column,null,s.a.createElement(k.a,{size:"mini",label:"Title:",placeholder:t.name})))),e.renderProgress(t))}))),s.a.createElement("div",{className:"Actions"},this.renderActions()))}}]),t}(n.Component),C=a(17),F=a(1e3),A=a(24),S=a(16),I=a(84);a(354);function N(e){return s.a.createElement(h.a.Item,{key:e.name,active:e.isActive,onClick:e.changeTab,as:"a"},e.title,"  ",s.a.createElement(I.a,{name:"remove circle",onClick:e.removeTab}))}function U(e){var t=e.display,a=e.activeItem;return s.a.createElement("div",null,s.a.createElement(h.a,{pointing:!0,secondary:!0},s.a.createElement(h.a.Item,{name:"Input",active:"Input"===a,onClick:function(){return e.changeChildTab("Input")}}),s.a.createElement(h.a.Item,{name:"JSON-LD",active:"JSON-LD"===a,onClick:function(){return e.changeChildTab("JSON-LD")}})),s.a.createElement(b.a,null,t))}var P=a(138),L=a(186),w=a(269),R=a(472),x={name:"dataset1",title:"Dataset 1",schema:P,uischema:w,path:"person"},J={name:"dataset3",title:"Dataset 3",schema:P,uischema:w,path:"person"},z=[x,{name:"dataset2",title:"Dataset 2",schema:L,uischema:R,path:"address"},J],H=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e));var n=x.name,r=x.schema,i=x.uischema,o=x.path;return a.state={activeItem:n,childActiveItem:"Input",childDisplay:a.renderJsonForm(r,i,o)},a.defaultDisplay=s.a.createElement("h1",null," "),a.changeTab=a.changeTab.bind(Object(m.a)(a)),a.changeChildTab=a.changeChildTab.bind(Object(m.a)(a)),a.removeTab=a.removeTab.bind(Object(m.a)(a)),a.renderTabFromDataset=a.renderTabFromDataset.bind(Object(m.a)(a)),a.renderTabs=a.renderTabs.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"changeTab",value:function(e){this.setState({activeItem:e})}},{key:"changeChildTab",value:function(e){this.setState({childActiveItem:e})}},{key:"removeTab",value:function(e){var t=this.props.datasets.filter(function(t){return t.name!==e});this.props.handleUpdateDatasets(t)}},{key:"removeAllTabs",value:function(){this.props.handleUpdateDatasets([]),this.setState({display:this.defaultDisplay})}},{key:"renderTabFromDataset",value:function(e){var t=this,a=this.state.activeItem===e.name;return s.a.createElement(N,{key:e.name,name:e.name,title:e.title,isActive:a,changeTab:function(){return t.changeTab(e.name)},removeTab:function(){return t.removeTab(e.name)}})}},{key:"renderJsonForm",value:function(e){var t=this;return s.a.createElement("div",null,s.a.createElement(A.JsonForms,{schema:e.schema,uischema:e.uischema,path:e.path}),s.a.createElement(F.a,{content:"Submit",color:"violet",onClick:function(){return t.removeTab(e.name)}}))}},{key:"renderActiveTabPanel",value:function(){var e=this.state.activeItem,t=this.props.datasets.filter(function(t){return e===t.name})[0],a=this.state.childActiveItem;if(void 0===t)return this.defaultDisplay;var n,r=this.props.data[t.path];return n="Input"===a?this.renderJsonForm(t):JSON.stringify(r,null,2),s.a.createElement(U,{activeItem:a,display:n,changeChildTab:this.changeChildTab})}},{key:"renderTabs",value:function(){var e=this;return this.props.datasets.map(function(t){return e.renderTabFromDataset(t)})}},{key:"render",value:function(){var e=this,t=this.renderActiveTabPanel(),a=this.renderTabs();return s.a.createElement("div",null,s.a.createElement(F.a,{content:"Submit All Datasets",color:"violet",onClick:function(){return e.removeAllTabs()}}),s.a.createElement(E.a,null,s.a.createElement(E.a.Column,{width:4},s.a.createElement(h.a,{fluid:!0,vertical:!0,tabular:!0},a)),s.a.createElement(E.a.Column,{stretched:!0,width:12},t)))}}]),t}(n.Component),q=Object(C.connect)(function(e){return{data:Object(S.getData)(e)}})(H),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={activeItem:"File Upload",display:a.renderFileUpload(),datasets:z},a.changeTab=a.changeTab.bind(Object(m.a)(a)),a.updateDatasets=a.updateDatasets.bind(Object(m.a)(a)),a.addDataset=a.addDataset.bind(Object(m.a)(a)),a.setState=a.setState.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderSciDataTab",value:function(e){return s.a.createElement(q,{datasets:e,handleUpdateDatasets:this.updateDatasets})}},{key:"renderFileUploadOld",value:function(){return s.a.createElement("button",{onClick:this.addDataset}," Add Dataset 3")}},{key:"renderFileUpload",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Card"},s.a.createElement(T,null)))}},{key:"changeTab",value:function(e){var t;"File Upload"===e?t=this.renderFileUpload():"SciData"===e&&(t=this.renderSciDataTab(this.state.datasets)),this.setState({activeItem:e,display:t})}},{key:"updateDatasets",value:function(e){var t=this.renderSciDataTab(e);this.setState({datasets:e,display:t})}},{key:"addDataset",value:function(){var e=this.state.datasets;e.push(J),this.setState({datasets:e})}},{key:"render",value:function(){var e=this,t=this.state.activeItem,a=this.state.display;return s.a.createElement("div",null,s.a.createElement(h.a,{tabular:!0},s.a.createElement(h.a.Item,{name:"File Upload",active:"File Upload"===t,onClick:function(){return e.changeTab("File Upload")}}),s.a.createElement(h.a.Item,{name:"SciData",active:"SciData"===t,onClick:function(){return e.changeTab("SciData")}})),s.a.createElement(b.a,null,a))}}]),t}(s.a.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(p.a,{style:{margin:20}},s.a.createElement(_,null))}}]),t}(s.a.Component),G=a(83),W=a(473),M={type:"object",properties:{person:P,address:L}},X=Object(G.createStore)(Object(G.combineReducers)({jsonforms:Object(S.jsonformsReducer)()}),{jsonforms:{renderers:W.materialRenderers}});X.dispatch(S.Actions.init({},M)),i.a.render(s.a.createElement(C.Provider,{store:X},s.a.createElement(B,null)),document.getElementById("root"))}},[[484,1,2]]]);
//# sourceMappingURL=main.92d06778.chunk.js.map